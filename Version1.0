import csv
from collections import Counter
import itertools

def main():
	with open('C:\\Users\\Elroy\\Desktop\\DATA.csv', 'r') as my_file:         #change file name
		data = csv.DictReader(my_file, delimiter=',')
		variable = []
		combo = []
		for row in data:
			variable.append(row['SCHOOL'])                                        #identify variable name here
		for row in itertools.permutations(variable, 2):
			combo.append(row)
		c = Counter(combo)
	with open('C:\\Users\\Elroy\\Desktop\\New Data.csv', 'w') as csv_file:    #change file name
		fieldnames = ['Source','Target', 'Type', 'ID', 'Label', 'Weight']
		data = csv.DictWriter(csv_file, fieldnames = fieldnames)
		data.writeheader()
		types = 'Undirected'
		for combination,count in c.most_common():
			data.writerow({''Source':combination[0], 'Target':combination[1], 'Type': types , 'Lable':combination, 'Weight':count})
